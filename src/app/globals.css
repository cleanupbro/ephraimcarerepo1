@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   EPHRAIM CARE - DESIGN SYSTEM V2
   In4Care Inspired + Ephraim Brand Colors
   WCAG 2.2 AA Compliant
   ============================================ */

:root {
  /* Colors - New Palette */
  --background: #FFFFFF;
  --background-cream: #FDF2E6;
  --foreground: #000000;
  --surface: #FFFFFF;

  /* Primary - Blue (from logo) */
  --primary: #0088CC;
  --primary-hover: #006FA6;
  --primary-light: #E6F4FA;
  --primary-dark: #005680;

  /* Secondary - Green (from logo) */
  --secondary: #66BB6A;
  --secondary-hover: #52A655;
  --secondary-light: #F0F9F0;

  /* Accent - Orange (decorative) */
  --accent: #ED861E;
  --accent-light: #FFF8F0;

  /* Text */
  --text-primary: #000000;
  --text-secondary: #353535;
  --text-muted: #666666;

  /* Focus */
  --focus-ring: #0088CC;
  --focus-ring-offset: 2px;

  /* Comfort Mode Overrides */
  --comfort-bg: #FFFFFF;
  --comfort-text: #000000;
  --comfort-link: #0000EE;
  --comfort-link-visited: #551A8B;
}

/* ============================================
   BASE STYLES - In4Care Inspired
   ============================================ */

@layer base {
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  body {
    @apply text-neutral-900 bg-white antialiased font-sans;
    font-size: 18px;
    line-height: 1.6;
  }

  /* Headings - Montserrat, In4Care scale */
  h1 {
    @apply font-heading font-bold tracking-tight;
    font-size: clamp(40px, 8vw, 70px);
    line-height: 1.1;
  }

  h2 {
    @apply font-heading font-extrabold;
    font-size: clamp(32px, 5vw, 48px);
    line-height: 1.2;
  }

  h3 {
    @apply font-heading font-bold;
    font-size: clamp(24px, 4vw, 32px);
    line-height: 1.3;
  }

  h4 {
    @apply font-heading font-semibold;
    font-size: clamp(20px, 3vw, 24px);
    line-height: 1.4;
  }

  h5 {
    @apply font-heading font-semibold;
    font-size: 20px;
    line-height: 1.5;
  }

  /* Body text */
  p {
    @apply text-body-lg;
    font-size: 18px;
    line-height: 1.6;
    color: var(--text-secondary);
  }

  /* Links - Blue primary color */
  a {
    @apply text-primary underline-offset-4 hover:text-primary-700 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm transition-colors duration-200;
    text-decoration-thickness: 1px;
  }

  a:hover {
    text-decoration-thickness: 2px;
  }

  /* Focus styles - visible for all users */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2;
  }

  /* Remove focus ring for mouse users on non-interactive elements */
  :focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
  }
}

/* ============================================
   COMPONENT UTILITIES - In4Care Style
   ============================================ */

@layer components {
  /* Container */
  .container-narrow {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .container-wide {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Section spacing */
  .section {
    @apply py-16 md:py-24;
  }

  .section-lg {
    @apply py-20 md:py-32;
  }

  .section-sm {
    @apply py-12 md:py-16;
  }

  /* Cream background section */
  .section-cream {
    @apply bg-cream py-16 md:py-24;
  }

  /* Card styles - Updated for In4Care */
  .card {
    @apply bg-white rounded-md border border-neutral-200 p-6 shadow-card transition-all duration-300;
  }

  .card:hover {
    @apply shadow-card-hover;
  }

  .card-interactive {
    @apply card cursor-pointer;
  }

  .card-interactive:hover {
    @apply border-primary shadow-card-hover transform -translate-y-1;
  }

  /* Icon Circle - In4Care style */
  .icon-circle {
    @apply w-[100px] h-[100px] rounded-full bg-primary flex items-center justify-center text-white;
  }

  .icon-circle-sm {
    @apply w-16 h-16 rounded-full bg-primary flex items-center justify-center text-white;
  }

  .icon-circle-lg {
    @apply w-32 h-32 rounded-full bg-primary flex items-center justify-center text-white;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center px-4 py-2 rounded-pill text-sm font-medium;
  }

  .badge-primary {
    @apply badge bg-primary text-white;
  }

  .badge-secondary {
    @apply badge bg-secondary text-white;
  }

  .badge-cream {
    @apply badge bg-cream text-neutral-800;
  }

  /* Wave shapes - In4Care style */
  .wave-bottom {
    border-bottom-left-radius: 50% 80px;
    border-bottom-right-radius: 50% 80px;
  }

  .wave-top {
    border-top-left-radius: 50% 80px;
    border-top-right-radius: 50% 80px;
  }

  .wave-large {
    border-radius: 350px;
  }

  /* Decorative shape - Orange accent */
  .decorative-shape {
    @apply bg-accent absolute;
    transform: rotate(26deg);
    border-radius: 200px;
  }

  /* Image masks */
  .image-circle {
    @apply rounded-full overflow-hidden;
  }

  .image-wave {
    border-radius: 350px;
    overflow: hidden;
  }

  /* Heading with accent word */
  .heading-accent {
    @apply text-black;
  }

  .heading-accent .accent {
    @apply text-primary;
  }

  /* Button pill style */
  .btn-pill {
    @apply rounded-pill px-8 py-4 font-medium transition-all duration-300;
  }

  .btn-pill-primary {
    @apply btn-pill bg-primary text-white hover:bg-black;
  }

  .btn-pill-secondary {
    @apply btn-pill bg-secondary text-white hover:bg-black;
  }

  .btn-pill-outline {
    @apply btn-pill border-2 border-primary text-primary bg-transparent hover:bg-primary hover:text-white;
  }
}

/* ============================================
   ACCESSIBILITY UTILITIES
   ============================================ */

@layer utilities {
  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only-focusable:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Skip link */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[100] focus:bg-primary focus:text-white focus:px-4 focus:py-2 focus:rounded-md focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary;
  }

  /* Touch target - minimum 44x44px */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }
}

/* ============================================
   COMFORT MODE
   Larger fonts, higher contrast, simpler design
   ============================================ */

.comfort-mode {
  /* Typography overrides */
  font-family: 'Atkinson Hyperlegible', Arial, Verdana, sans-serif !important;
  font-size: 120% !important;
  line-height: 1.8 !important;
  letter-spacing: 0.03em !important;

  /* High contrast colors */
  --background: #FFFFFF !important;
  --foreground: #000000 !important;
  --text-primary: #000000 !important;
  --text-secondary: #333333 !important;
  --primary: #005A4D !important;
}

.comfort-mode * {
  font-family: inherit !important;
}

.comfort-mode a {
  color: #0000EE !important;
  text-decoration: underline !important;
}

.comfort-mode a:visited {
  color: #551A8B !important;
}

.comfort-mode a:focus,
.comfort-mode button:focus,
.comfort-mode [tabindex]:focus {
  outline: 3px solid #000000 !important;
  outline-offset: 3px !important;
}

.comfort-mode .decorative-image {
  display: none !important;
}

/* Hide animations in comfort mode */
.comfort-mode *,
.comfort-mode *::before,
.comfort-mode *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* ============================================
   ACCESSIBILITY TOOLBAR STYLES
   ============================================ */

/* Text scaling */
.text-scale-normal {
  font-size: 100%;
}

.text-scale-large {
  font-size: 115%;
}

.text-scale-xl {
  font-size: 130%;
}

/* High contrast mode */
.high-contrast {
  --background: #FFFFFF !important;
  --foreground: #000000 !important;
  --text-primary: #000000 !important;
  --text-secondary: #1A1A1A !important;
}

.high-contrast body {
  background: #FFFFFF !important;
  color: #000000 !important;
}

.high-contrast a {
  color: #0000CC !important;
  text-decoration: underline !important;
}

.high-contrast button,
.high-contrast [role="button"] {
  border: 2px solid currentColor !important;
}

/* Reduce motion */
.reduce-motion *,
.reduce-motion *::before,
.reduce-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Dyslexia-friendly font */
.dyslexia-font,
.dyslexia-font * {
  font-family: 'OpenDyslexic', 'Comic Sans MS', 'Arial', sans-serif !important;
  letter-spacing: 0.05em !important;
  word-spacing: 0.1em !important;
  line-height: 1.8 !important;
}

/* OpenDyslexic font fallback */
@font-face {
  font-family: 'OpenDyslexic';
  src: url('https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  body {
    font-size: 12pt;
    color: #000;
    background: #fff;
  }

  nav, footer, .no-print {
    display: none !important;
  }

  a {
    text-decoration: underline;
    color: #000;
  }

  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
  }
}
